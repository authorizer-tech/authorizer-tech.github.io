<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.73">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="authorizer Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="authorizer Blog Atom Feed"><title data-react-helmet="true">Relation Tuples | authorizer</title><meta data-react-helmet="true" property="og:url" content="https://authorizer-tech.github.io/docs/overview/concepts/relation-tuples"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Relation Tuples | authorizer"><meta data-react-helmet="true" name="description" content="Relation tuples express relationships between Objects and Subjects. Each relation tuple"><meta data-react-helmet="true" property="og:description" content="Relation tuples express relationships between Objects and Subjects. Each relation tuple"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://authorizer-tech.github.io/docs/overview/concepts/relation-tuples"><link data-react-helmet="true" rel="alternate" href="https://authorizer-tech.github.io/docs/overview/concepts/relation-tuples" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://authorizer-tech.github.io/docs/overview/concepts/relation-tuples" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.dff4d6d0.css">
<link rel="preload" href="/assets/js/styles.4a30a220.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.fa06109c.js" as="script">
<link rel="preload" href="/assets/js/main.87187836.js" as="script">
<link rel="preload" href="/assets/js/1.f8821587.js" as="script">
<link rel="preload" href="/assets/js/2.a94a68c1.js" as="script">
<link rel="preload" href="/assets/js/3.6863b26c.js" as="script">
<link rel="preload" href="/assets/js/1be78505.0045c76e.js" as="script">
<link rel="preload" href="/assets/js/47.ce19367e.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.52cb473e.js" as="script">
<link rel="preload" href="/assets/js/17896441.7a1cdf9a.js" as="script">
<link rel="preload" href="/assets/js/89b64d5e.75153ad9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/authorizer.png" alt="site-logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/authorizer.png" alt="site-logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">authorizer.tech</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/overview/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/overview/introduction">Next</a><a href="https://github.com/authorizer-tech" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">üåô</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/authorizer.png" alt="site-logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/authorizer.png" alt="site-logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">authorizer.tech</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/overview/introduction">Docs</a></li><li class="menu__list-item"><a class="menu__link">Versions</a></li><li class="menu__list-item"><a href="https://github.com/authorizer-tech" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">üóíÔ∏è Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview/architecture">Architecture</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview/concepts/concepts-intro">Concepts - Intro</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/overview/concepts/relation-tuples">Relation Tuples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview/concepts/namespaces">Namespaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview/concepts/objects">Objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview/concepts/subjects">Subjects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview/concepts/graph-of-relations">Graph of Relations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview/concepts/snaptokens">Snaptokens</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/overview/examples/examples-intro">Examples - Intro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/overview/examples/abac">ABAC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/overview/examples/acl">ACL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/overview/examples/advanced-rewrites">Advanced Rewrites</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/overview/examples/hierarchy">Hierarchical Permissions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/overview/examples/rbac">RBAC</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">üöÄ Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/getting-started-intro">Getting Started - Intro</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Setup a Cluster</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/install/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/install/docker">Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/install/binary">Pre-built Binaries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/install/kubernetes">Kubernetes</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/add-namespace-config">Add a Namespace Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/write-relation-tuple">Write a Relation Tuple</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/check-access">Check a Subject&#x27;s Access</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/configuration">‚öôÔ∏è  Configuration</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">üìö API Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-reference/overview">API Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-reference/check-service">CheckService</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-reference/expand-service">ExpandService</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-reference/nsconfig-service">NamespaceConfigService</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-reference/read-service">ReadService</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-reference/watch-service">WatchService</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/api-reference/write-service">WriteService</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/performance">üìà Performance</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/development">üñ•Ô∏è Development</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/faq">üí° FAQ</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Relation Tuples</h1></header><div class="markdown"><p>Relation tuples express relationships between <a href="/docs/overview/concepts/objects">Objects</a> and <a href="/docs/overview/concepts/subjects">Subjects</a>. Each relation tuple
is associated with a <a href="/docs/overview/concepts/namespaces">Namespace</a> which specifies the relations that can exist for objects within that
namespace.</p><p>Relation tuples are encoded as protobufs - an efficient binary encoding, but within the documentation a relation tuple is
expressed in text notation as follows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;relation-tuple&gt;  ::= &lt;object&gt;#&lt;relation&gt;@&lt;subject&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;object&gt;          ::= &lt;namespace&gt;:&lt;object_id&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;subject&gt;         ::= &lt;subject_id&gt; | &lt;subject_set&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;subject_set&gt;     ::= &lt;object&gt;#&lt;relation&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>For example, the relation tuple <code>groups:group1#member@user1</code> can be translated into the statement &quot;user1 is a member of group1 within the groups namespace&quot;.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>A <code>subject_set</code> allows ACLs to reference other groups of relation tuples and therefore can support representing nested group membership (e.g. recursive hierarchy). This feature of the modeling
language is an extremely powerful feature and makes the model very expressive yet elegant.</p><p>For more information, please see the documentation on <a href="/docs/overview/concepts/subjects#subject-sets">Subject Sets</a>.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="the--relation-alias-relation"></a>The ... relation (alias relation)<a class="hash-link" href="#the--relation-alias-relation" title="Direct link to heading">#</a></h2><p>The <code>...</code> relation is a special alias relation implicitly defined on all namespaces.</p><p>It is used to reference a namespace as a whole, typically when you have a namespace defined to represent a subject or resource and want to include that subject or resource in another relation. It&#x27;s mostly used in cases where you want to express hierarchical relationships.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h2><table><thead><tr><th>Relation Tuple</th><th>Description</th></tr></thead><tbody><tr><td><code>folders:folder1#viewer@groups:group1#member</code></td><td>Members of &#x27;group1&#x27; in the &#x27;groups&#x27; namespace are viewers of &#x27;folder1&#x27; in the &#x27;folders&#x27; namespace.</td></tr><tr><td><code>files:file1#editor@user1</code></td><td>user1 is an editor of &#x27;file1&#x27; in the &#x27;files&#x27; namespace.</td></tr><tr><td><code>files:file1#parent@folders:folder1#...</code></td><td>&#x27;file1&#x27; in the &#x27;files&#x27; namespace is a child resource of &#x27;folder1&#x27; in the &#x27;folders&#x27; namespace.</td></tr><tr><td><code>groups:group1#member@groups:group0#member</code></td><td>&#x27;group1&#x27; includes all of the members from &#x27;group0&#x27; in the &#x27;groups&#x27; namespace.</td></tr><tr><td><code>groups:group0#member@user2</code></td><td>user2 is a member of &#x27;group0&#x27; in the &#x27;groups&#x27; namespace.</td></tr><tr><td><code>groups:group1#member@user3</code></td><td>user3 is a member of &#x27;group1&#x27; in the &#x27;groups&#x27; namespace.</td></tr></tbody></table><p>In the third example we use the <em>alias relation</em> <code>#...</code>, which creates a parent-child hierarchy between <code>folder1</code> and <code>file1</code> (file1 resides within folder1).</p><p>The fourth example in the table above is a great example of the expressiveness of this data modeling language. It expresses a recursive hierarchical relationship between groups of users, <code>group1</code> is a superset of <code>group0</code> with <code>user2</code> and <code>user3</code> being members. Whereas <code>group0</code> is a subset of <code>group1</code> with only <code>user2</code> as a member.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/authorizer-tech/authorizer-web/edit/master/docs/docs/overview/concepts/relation-tuples.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/overview/concepts/concepts-intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Concepts - Intro</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/overview/concepts/namespaces"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Namespaces ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the--relation-alias-relation" class="table-of-contents__link">The ... relation (alias relation)</a></li><li><a href="#examples" class="table-of-contents__link">Examples</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/overview/introduction">Documentation</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://authorizer-tech.slack.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/authorizer-tech" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021</div></div></div></footer></div>
<script src="/assets/js/styles.4a30a220.js"></script>
<script src="/assets/js/runtime~main.fa06109c.js"></script>
<script src="/assets/js/main.87187836.js"></script>
<script src="/assets/js/1.f8821587.js"></script>
<script src="/assets/js/2.a94a68c1.js"></script>
<script src="/assets/js/3.6863b26c.js"></script>
<script src="/assets/js/1be78505.0045c76e.js"></script>
<script src="/assets/js/47.ce19367e.js"></script>
<script src="/assets/js/935f2afb.52cb473e.js"></script>
<script src="/assets/js/17896441.7a1cdf9a.js"></script>
<script src="/assets/js/89b64d5e.75153ad9.js"></script>
</body>
</html>
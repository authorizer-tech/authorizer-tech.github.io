(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{124:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return d}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),p=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},b=function(e){var t=p(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},m=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),b=p(n),m=r,d=b["".concat(i,".").concat(m)]||b[m]||u[m]||o;return n?a.a.createElement(d,s(s({ref:t},l),{},{components:n})):a.a.createElement(d,s({ref:t},l))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},98:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return p}));var r=n(3),a=n(7),o=(n(0),n(124)),i={sidebar_position:0},s={unversionedId:"overview/concepts/relation-tuples",id:"overview/concepts/relation-tuples",isDocsHomePage:!1,title:"Relation Tuples",description:"Relation tuples express relationships between Objects and Subjects. Each relation tuple",source:"@site/docs/overview/concepts/relation-tuples.md",sourceDirName:"overview/concepts",slug:"/overview/concepts/relation-tuples",permalink:"/docs/overview/concepts/relation-tuples",editUrl:"https://github.com/authorizer-tech/authorizer-web/edit/master/docs/docs/overview/concepts/relation-tuples.md",version:"current",sidebarPosition:0,frontMatter:{sidebar_position:0},sidebar:"tutorialSidebar",previous:{title:"Concepts - Intro",permalink:"/docs/overview/concepts/concepts-intro"},next:{title:"Namespaces",permalink:"/docs/overview/concepts/namespaces"}},c=[{value:"The ... relation (alias relation)",id:"the--relation-alias-relation",children:[]},{value:"Examples",id:"examples",children:[]}],l={toc:c};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Relation tuples express relationships between ",Object(o.b)("a",{parentName:"p",href:"/docs/overview/concepts/objects"},"Objects")," and ",Object(o.b)("a",{parentName:"p",href:"/docs/overview/concepts/subjects"},"Subjects"),". Each relation tuple\nis associated with a ",Object(o.b)("a",{parentName:"p",href:"/docs/overview/concepts/namespaces"},"Namespace")," which specifies the relations that can exist for objects within that\nnamespace."),Object(o.b)("p",null,"Relation tuples are encoded as protobufs - an efficient binary encoding, but within the documentation a relation tuple is\nexpressed in text notation as follows:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"<relation-tuple>  ::= <object>#<relation>@<subject>\n<object>          ::= <namespace>:<object_id>\n<subject>         ::= <subject_id> | <subject_set>\n<subject_set>     ::= <object>#<relation>\n")),Object(o.b)("p",null,"For example, the relation tuple ",Object(o.b)("inlineCode",{parentName:"p"},"groups:group1#member@user1"),' can be translated into the statement "user1 is a member of group1 within the groups namespace".'),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",{parentName:"div",className:"admonition-heading"},Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",{parentName:"h5",className:"admonition-icon"},Object(o.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(o.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(o.b)("div",{parentName:"div",className:"admonition-content"},Object(o.b)("p",{parentName:"div"},"A ",Object(o.b)("inlineCode",{parentName:"p"},"subject_set")," allows ACLs to reference other groups of relation tuples and therefore can support representing nested group membership (e.g. recursive hierarchy). This feature of the modeling\nlanguage is an extremely powerful feature and makes the model very expressive yet elegant."),Object(o.b)("p",{parentName:"div"},"For more information, please see the documentation on ",Object(o.b)("a",{parentName:"p",href:"./subjects#subject-sets"},"Subject Sets"),"."))),Object(o.b)("h2",{id:"the--relation-alias-relation"},"The ... relation (alias relation)"),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"...")," relation is a special alias relation implicitly defined on all namespaces."),Object(o.b)("p",null,"It is used to reference a namespace as a whole, typically when you have a namespace defined to represent a subject or resource and want to include that subject or resource in another relation. It's mostly used in cases where you want to express hierarchical relationships."),Object(o.b)("h2",{id:"examples"},"Examples"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",{parentName:"tr",align:null},"Relation Tuple"),Object(o.b)("th",{parentName:"tr",align:null},"Description"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"folders:folder1#viewer@groups:group1#member")),Object(o.b)("td",{parentName:"tr",align:null},"Members of 'group1' in the 'groups' namespace are viewers of 'folder1' in the 'folders' namespace.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"files:file1#editor@user1")),Object(o.b)("td",{parentName:"tr",align:null},"user1 is an editor of 'file1' in the 'files' namespace.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"files:file1#parent@folders:folder1#...")),Object(o.b)("td",{parentName:"tr",align:null},"'file1' in the 'files' namespace is a child resource of 'folder1' in the 'folders' namespace.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"groups:group1#member@groups:group0#member")),Object(o.b)("td",{parentName:"tr",align:null},"'group1' includes all of the members from 'group0' in the 'groups' namespace.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"groups:group0#member@user2")),Object(o.b)("td",{parentName:"tr",align:null},"user2 is a member of 'group0' in the 'groups' namespace.")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",{parentName:"tr",align:null},Object(o.b)("inlineCode",{parentName:"td"},"groups:group1#member@user3")),Object(o.b)("td",{parentName:"tr",align:null},"user3 is a member of 'group1' in the 'groups' namespace.")))),Object(o.b)("p",null,"In the third example we use the ",Object(o.b)("em",{parentName:"p"},"alias relation")," ",Object(o.b)("inlineCode",{parentName:"p"},"#..."),", which creates a parent-child hierarchy between ",Object(o.b)("inlineCode",{parentName:"p"},"folder1")," and ",Object(o.b)("inlineCode",{parentName:"p"},"file1")," (file1 resides within folder1)."),Object(o.b)("p",null,"The fourth example in the table above is a great example of the expressiveness of this data modeling language. It expresses a recursive hierarchical relationship between groups of users, ",Object(o.b)("inlineCode",{parentName:"p"},"group1")," is a superset of ",Object(o.b)("inlineCode",{parentName:"p"},"group0")," with ",Object(o.b)("inlineCode",{parentName:"p"},"user2")," and ",Object(o.b)("inlineCode",{parentName:"p"},"user3")," being members. Whereas ",Object(o.b)("inlineCode",{parentName:"p"},"group0")," is a subset of ",Object(o.b)("inlineCode",{parentName:"p"},"group1")," with only ",Object(o.b)("inlineCode",{parentName:"p"},"user2")," as a member."))}p.isMDXComponent=!0}}]);